{"ast":null,"code":"var _jsxFileName = \"C:\\\\REACTDEV\\\\MovieClient\\\\movie-gold-v1\\\\src\\\\components\\\\reviews\\\\Reviews.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport api from '../../api/axiosConfig';\nimport { useParams } from 'react-router-dom';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport ReviewForm from '../reviewForm/ReviewForm';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Reviews = ({\n  getMovieData,\n  movie,\n  reviews,\n  setReviews\n}) => {\n  _s();\n  const revText = useRef();\n  let params = useParams();\n  const movieId = params.movieId;\n  useEffect(() => {\n    getMovieData(movieId);\n  }, []);\n  const addReview = async e => {\n    e.preventDefault();\n    const rev = revText.current;\n    try {\n      const response = await api.post(\"/api/v1/reviews\", {\n        reviewBody: rev.value,\n        imdbId: movieId\n      });\n      const updatedReviews = [...reviews, {\n        body: rev.value\n      }];\n      rev.value = \" \";\n      setReviews(updatedReviews);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Reviews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: movie === null || movie === void 0 ? void 0 : movie.poster,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(ReviewForm, {\n                handleSubmit: addReview,\n                revText: revText,\n                labelText: \"Write a Review?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true), reviews === null || reviews === void 0 ? void 0 : reviews.map(r => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: r.body\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(Reviews, \"L0+7JVVxEHK4WjBKZTsRE7nQ5rY=\", false, function () {\n  return [useParams];\n});\n_c = Reviews;\nexport default Reviews;\nvar _c;\n$RefreshReg$(_c, \"Reviews\");","map":{"version":3,"names":["useEffect","useRef","api","useParams","Container","Row","Col","ReviewForm","React","jsxDEV","_jsxDEV","Fragment","_Fragment","Reviews","getMovieData","movie","reviews","setReviews","_s","revText","params","movieId","addReview","e","preventDefault","rev","current","response","post","reviewBody","value","imdbId","updatedReviews","body","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","poster","alt","handleSubmit","labelText","map","r","_c","$RefreshReg$"],"sources":["C:/REACTDEV/MovieClient/movie-gold-v1/src/components/reviews/Reviews.js"],"sourcesContent":["import {useEffect, useRef} from 'react';\r\nimport api from '../../api/axiosConfig';\r\nimport {useParams} from 'react-router-dom';\r\nimport {Container, Row, Col} from 'react-bootstrap';\r\nimport ReviewForm from '../reviewForm/ReviewForm';\r\n\r\nimport React from 'react'\r\n\r\nconst Reviews = ({getMovieData,movie,reviews,setReviews}) => {\r\n\r\n    const revText = useRef();\r\n    let params = useParams();\r\n    const movieId = params.movieId;\r\n\r\n    useEffect(()=>{\r\n        getMovieData(movieId);\r\n    },[])\r\n\r\n    const addReview = async (e) =>{\r\n        e.preventDefault();\r\n\r\n        const rev = revText.current;\r\n\r\n        try\r\n        {\r\n            const response = await api.post(\"/api/v1/reviews\",{reviewBody:rev.value,imdbId:movieId});\r\n\r\n            const updatedReviews = [...reviews, {body:rev.value}];\r\n    \r\n            rev.value = \" \";\r\n    \r\n            setReviews(updatedReviews);\r\n        }\r\n        catch(err)\r\n        {\r\n            console.error(err);\r\n        }\r\n    }\r\n\r\n  return (\r\n    <Container>\r\n        <Row>\r\n            <Col><h3>Reviews</h3></Col>\r\n        </Row>\r\n        <Row className=\"mt-2\">\r\n            <Col>\r\n                <img src={movie?.poster} alt=\"\" />\r\n            </Col>\r\n            <Col>\r\n                {\r\n                    <>\r\n                        <Row>\r\n                            <Col>\r\n                                <ReviewForm handleSubmit={addReview} revText={revText} labelText = \"Write a Review?\" />  \r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <hr />\r\n                            </Col>\r\n                        </Row>\r\n                    </>\r\n                }\r\n                {\r\n                    reviews?.map((r) => {\r\n                        return(\r\n                            <>\r\n                                <Row>\r\n                                    <Col>{r.body}</Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <hr />\r\n                                    </Col>\r\n                                </Row>                                \r\n                            </>\r\n                        )\r\n                    })\r\n                }\r\n            </Col>\r\n        </Row>\r\n        <Row>\r\n            <Col>\r\n                <hr />\r\n            </Col>\r\n        </Row>        \r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Reviews"],"mappings":";;AAAA,SAAQA,SAAS,EAAEC,MAAM,QAAO,OAAO;AACvC,OAAOC,GAAG,MAAM,uBAAuB;AACvC,SAAQC,SAAS,QAAO,kBAAkB;AAC1C,SAAQC,SAAS,EAAEC,GAAG,EAAEC,GAAG,QAAO,iBAAiB;AACnD,OAAOC,UAAU,MAAM,0BAA0B;AAEjD,OAAOC,KAAK,MAAM,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzB,MAAMC,OAAO,GAAGA,CAAC;EAACC,YAAY;EAACC,KAAK;EAACC,OAAO;EAACC;AAAU,CAAC,KAAK;EAAAC,EAAA;EAEzD,MAAMC,OAAO,GAAGlB,MAAM,CAAC,CAAC;EACxB,IAAImB,MAAM,GAAGjB,SAAS,CAAC,CAAC;EACxB,MAAMkB,OAAO,GAAGD,MAAM,CAACC,OAAO;EAE9BrB,SAAS,CAAC,MAAI;IACVc,YAAY,CAACO,OAAO,CAAC;EACzB,CAAC,EAAC,EAAE,CAAC;EAEL,MAAMC,SAAS,GAAG,MAAOC,CAAC,IAAI;IAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,MAAMC,GAAG,GAAGN,OAAO,CAACO,OAAO;IAE3B,IACA;MACI,MAAMC,QAAQ,GAAG,MAAMzB,GAAG,CAAC0B,IAAI,CAAC,iBAAiB,EAAC;QAACC,UAAU,EAACJ,GAAG,CAACK,KAAK;QAACC,MAAM,EAACV;MAAO,CAAC,CAAC;MAExF,MAAMW,cAAc,GAAG,CAAC,GAAGhB,OAAO,EAAE;QAACiB,IAAI,EAACR,GAAG,CAACK;MAAK,CAAC,CAAC;MAErDL,GAAG,CAACK,KAAK,GAAG,GAAG;MAEfb,UAAU,CAACe,cAAc,CAAC;IAC9B,CAAC,CACD,OAAME,GAAG,EACT;MACIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACtB;EACJ,CAAC;EAEH,oBACExB,OAAA,CAACN,SAAS;IAAAiC,QAAA,gBACN3B,OAAA,CAACL,GAAG;MAAAgC,QAAA,eACA3B,OAAA,CAACJ,GAAG;QAAA+B,QAAA,eAAC3B,OAAA;UAAA2B,QAAA,EAAI;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CAAC,eACN/B,OAAA,CAACL,GAAG;MAACqC,SAAS,EAAC,MAAM;MAAAL,QAAA,gBACjB3B,OAAA,CAACJ,GAAG;QAAA+B,QAAA,eACA3B,OAAA;UAAKiC,GAAG,EAAE5B,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE6B,MAAO;UAACC,GAAG,EAAC;QAAE;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC,CAAC,eACN/B,OAAA,CAACJ,GAAG;QAAA+B,QAAA,gBAEI3B,OAAA,CAAAE,SAAA;UAAAyB,QAAA,gBACI3B,OAAA,CAACL,GAAG;YAAAgC,QAAA,eACA3B,OAAA,CAACJ,GAAG;cAAA+B,QAAA,eACA3B,OAAA,CAACH,UAAU;gBAACuC,YAAY,EAAExB,SAAU;gBAACH,OAAO,EAAEA,OAAQ;gBAAC4B,SAAS,EAAG;cAAiB;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtF;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eACN/B,OAAA,CAACL,GAAG;YAAAgC,QAAA,eACA3B,OAAA,CAACJ,GAAG;cAAA+B,QAAA,eACA3B,OAAA;gBAAA4B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA,eACR,CAAC,EAGHzB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEgC,GAAG,CAAEC,CAAC,IAAK;UAChB,oBACIvC,OAAA,CAAAE,SAAA;YAAAyB,QAAA,gBACI3B,OAAA,CAACL,GAAG;cAAAgC,QAAA,eACA3B,OAAA,CAACJ,GAAG;gBAAA+B,QAAA,EAAEY,CAAC,CAAChB;cAAI;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClB,CAAC,eACN/B,OAAA,CAACL,GAAG;cAAAgC,QAAA,eACA3B,OAAA,CAACJ,GAAG;gBAAA+B,QAAA,eACA3B,OAAA;kBAAA4B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA,eACR,CAAC;QAEX,CAAC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eACN/B,OAAA,CAACL,GAAG;MAAAgC,QAAA,eACA3B,OAAA,CAACJ,GAAG;QAAA+B,QAAA,eACA3B,OAAA;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEhB,CAAC;AAAAvB,EAAA,CAhFKL,OAAO;EAAA,QAGIV,SAAS;AAAA;AAAA+C,EAAA,GAHpBrC,OAAO;AAkFb,eAAeA,OAAO;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}